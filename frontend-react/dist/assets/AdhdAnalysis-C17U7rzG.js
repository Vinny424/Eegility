import{j as s,a0 as B,G as k,r as c,B as w,V as a,a1 as N,T as i,Q as E,R as H,E as g,H as b,L as f,C as G}from"./index-uGH6I1cH.js";import{A as P}from"./ArrowBack-C57_BZ6w.js";import{c as L}from"./create-icon-DtqJsTXn.js";import{C as d,a as h}from"./card-body-BaDWWiCD.js";import{P as q}from"./progress-Ke_Q99_Q.js";import{C as D}from"./card-header-8mUt1jVF.js";import{D as F}from"./divider-HtHnzNLr.js";import{S as $}from"./stat-group-Ba8GDNiA.js";import{S as x,a as j,b as m}from"./stat-number-DXRyFlru.js";import{S as u,a as W}from"./stat-help-text-BXD7RoGP.js";import"./progress.utils-CjXwg-H_.js";const _=L({displayName:"RepeatIcon",path:s.jsxs("g",{fill:"currentColor",children:[s.jsx("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),s.jsx("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"})]})}),is=()=>{const{id:t}=B(),T=k(),[e,p]=c.useState(null),[C,I]=c.useState(!0),[y,z]=c.useState(!1),[n,A]=c.useState(0),[R,S]=c.useState(null);c.useEffect(()=>{(async()=>{if(t)try{I(!0),await new Promise(l=>setTimeout(l,1e3));const r=localStorage.getItem(`analysis_${t}`);r?p(JSON.parse(r)):v()}catch(r){S(r.message||"Failed to load analysis")}finally{I(!1)}})()},[t]);const v=async()=>{z(!0),A(0),S(null);try{const o=setInterval(()=>{A(l=>l>=95?(clearInterval(o),95):l+Math.random()*15)},500);await new Promise(l=>setTimeout(l,5e3)),clearInterval(o),A(100);const r={id:`analysis_${Date.now()}`,eegId:t,prediction:Math.random()>.5?"ADHD":"Non-ADHD",confidence:Math.round((.7+Math.random()*.25)*100)/100,features:{thetaBetaRatio:Math.round((2+Math.random()*3)*100)/100,deltaActivity:Math.round((15+Math.random()*10)*100)/100,alphaActivity:Math.round((25+Math.random()*15)*100)/100,betaActivity:Math.round((20+Math.random()*10)*100)/100,thetaActivity:Math.round((30+Math.random()*15)*100)/100},processingTime:4.7,completedAt:new Date().toISOString(),status:"completed"};p(r),localStorage.setItem(`analysis_${t}`,JSON.stringify(r))}catch(o){S(o.message||"Analysis failed")}finally{z(!1)}},M=()=>{localStorage.removeItem(`analysis_${t}`),p(null),v()};return C?s.jsx(w,{display:"flex",justifyContent:"center",alignItems:"center",minH:"400px",children:s.jsxs(a,{spacing:4,children:[s.jsx(N,{size:"xl",color:"brand.500",thickness:"4px"}),s.jsx(i,{children:"Loading analysis..."})]})}):R?s.jsxs(a,{spacing:4,children:[s.jsxs(E,{status:"error",children:[s.jsx(H,{}),R]}),s.jsx(g,{onClick:()=>window.location.reload(),children:"Try Again"})]}):s.jsxs(a,{spacing:6,align:"stretch",children:[s.jsxs(b,{justify:"space-between",align:"center",children:[s.jsxs(b,{spacing:4,children:[s.jsx(g,{leftIcon:s.jsx(P,{}),variant:"ghost",onClick:()=>T(`/eeg/${t}`),children:"Back to EEG Details"}),s.jsx(f,{size:"lg",children:"ADHD Analysis"})]}),e&&s.jsx(g,{leftIcon:s.jsx(_,{}),colorScheme:"brand",variant:"outline",onClick:M,isDisabled:y,children:"Run New Analysis"})]}),y&&s.jsx(d,{children:s.jsx(h,{children:s.jsxs(a,{spacing:4,children:[s.jsx(i,{fontSize:"lg",fontWeight:"semibold",children:"Running ADHD Classification Analysis..."}),s.jsx(q,{value:n,size:"lg",colorScheme:"brand",width:"100%",borderRadius:"md"}),s.jsxs(i,{fontSize:"sm",color:"gray.600",children:[n<30&&"Preprocessing EEG signals...",n>=30&&n<60&&"Extracting frequency domain features...",n>=60&&n<90&&"Running machine learning classification...",n>=90&&"Finalizing results..."]})]})})}),e&&e.status==="completed"&&s.jsxs(s.Fragment,{children:[s.jsxs(d,{children:[s.jsx(D,{children:s.jsx(f,{size:"md",children:"Classification Result"})}),s.jsx(h,{children:s.jsxs(a,{spacing:4,children:[s.jsxs(b,{spacing:4,align:"center",children:[s.jsx(G,{colorScheme:e.prediction==="ADHD"?"red":"green",fontSize:"xl",p:3,borderRadius:"md",children:e.prediction}),s.jsxs(a,{align:"start",spacing:1,children:[s.jsxs(i,{fontSize:"lg",fontWeight:"semibold",children:["Confidence: ",(e.confidence*100).toFixed(1),"%"]}),s.jsxs(i,{fontSize:"sm",color:"gray.600",children:["Processing Time: ",e.processingTime,"s"]})]})]}),s.jsx(F,{}),s.jsxs(w,{width:"100%",children:[s.jsx(i,{mb:3,fontWeight:"semibold",children:"Interpretation:"}),s.jsx(i,{fontSize:"sm",color:"gray.700",children:e.prediction==="ADHD"?"The analysis indicates patterns consistent with ADHD characteristics in the EEG signal. This includes elevated theta/beta ratio and altered frequency power distributions.":"The analysis indicates patterns consistent with typical EEG activity. The frequency distributions and theta/beta ratio are within normal ranges."})]})]})})]}),s.jsxs(d,{children:[s.jsx(D,{children:s.jsx(f,{size:"md",children:"EEG Feature Analysis"})}),s.jsx(h,{children:s.jsxs($,{children:[s.jsxs(x,{children:[s.jsx(j,{children:"Theta/Beta Ratio"}),s.jsx(m,{children:e.features.thetaBetaRatio}),s.jsxs(u,{children:[s.jsx(W,{type:e.features.thetaBetaRatio>4?"increase":"decrease"}),e.features.thetaBetaRatio>4?"Elevated":"Normal"]})]}),s.jsxs(x,{children:[s.jsx(j,{children:"Delta Activity"}),s.jsxs(m,{children:[e.features.deltaActivity,"%"]}),s.jsx(u,{children:"1-4 Hz"})]}),s.jsxs(x,{children:[s.jsx(j,{children:"Theta Activity"}),s.jsxs(m,{children:[e.features.thetaActivity,"%"]}),s.jsx(u,{children:"4-8 Hz"})]}),s.jsxs(x,{children:[s.jsx(j,{children:"Alpha Activity"}),s.jsxs(m,{children:[e.features.alphaActivity,"%"]}),s.jsx(u,{children:"8-12 Hz"})]}),s.jsxs(x,{children:[s.jsx(j,{children:"Beta Activity"}),s.jsxs(m,{children:[e.features.betaActivity,"%"]}),s.jsx(u,{children:"12-30 Hz"})]})]})})]}),s.jsxs(d,{children:[s.jsx(D,{children:s.jsx(f,{size:"md",children:"Clinical Notes"})}),s.jsx(h,{children:s.jsxs(E,{status:"info",children:[s.jsx(H,{}),s.jsxs(a,{align:"start",spacing:2,children:[s.jsx(i,{fontWeight:"semibold",children:"Important: This analysis is for research purposes only"}),s.jsx(i,{fontSize:"sm",children:"This automated analysis should not be used as the sole basis for clinical diagnosis. ADHD diagnosis requires comprehensive clinical evaluation by qualified healthcare professionals, including behavioral assessments, medical history, and multiple diagnostic criteria."})]})]})})]})]}),!e&&!y&&s.jsx(d,{children:s.jsx(h,{textAlign:"center",children:s.jsxs(a,{spacing:4,children:[s.jsx(i,{fontSize:"lg",children:"Ready to run ADHD classification analysis on this EEG recording"}),s.jsx(g,{colorScheme:"brand",size:"lg",onClick:v,children:"Start Analysis"})]})})})]})};export{is as default};
//# sourceMappingURL=AdhdAnalysis-C17U7rzG.js.map
