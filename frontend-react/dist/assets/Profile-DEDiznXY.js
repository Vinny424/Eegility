import{j as s,J as X,r as u,V as r,L as p,H as t,E as f,aa as ss,T as i,C as es,Q as M,R as B}from"./index-uGH6I1cH.js";import{u as D,F as n,t as O,o as R,s as c}from"./types-DzCJYQF-.js";import{u as is}from"./use-toast-rCz5ykzS.js";import{T as as,a as rs,b as P,c as ts,d as b}from"./tab-panels-B2T15WDT.js";import{C as y,a as S}from"./card-body-BaDWWiCD.js";import{C as v}from"./card-header-8mUt1jVF.js";import{c as C}from"./create-icon-DtqJsTXn.js";import{D as ns}from"./divider-HtHnzNLr.js";import{F as o,I as l}from"./input-B8iLWoQm.js";import{F as d}from"./form-error-DxZ0GIpX.js";const os=C({displayName:"EditIcon",path:s.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),ls=C({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),ds=C({viewBox:"0 0 14 14",path:s.jsx("g",{fill:"currentColor",children:s.jsx("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})})}),cs=R({firstName:c().min(2,"First name must be at least 2 characters"),lastName:c().min(2,"Last name must be at least 2 characters"),email:c().email("Invalid email address"),organization:c().optional(),title:c().optional()}),hs=R({currentPassword:c().min(1,"Current password is required"),newPassword:c().min(8,"New password must be at least 8 characters"),confirmPassword:c().min(8,"Password confirmation is required")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),ys=()=>{var T,A,E,L,F,U,k,W;const{user:e,updateProfile:V}=X(),j=is(),[I,g]=u.useState(!1),[q,N]=u.useState(!1),[Y,z]=u.useState(!1),{register:m,handleSubmit:$,formState:{errors:a},reset:J}=D({resolver:O(cs),defaultValues:{firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",organization:(e==null?void 0:e.organization)||"",title:(e==null?void 0:e.title)||""}}),{register:w,handleSubmit:Q,formState:{errors:h},reset:Z}=D({resolver:O(hs)}),_=async H=>{N(!0);try{await V(H),j({title:"Profile updated",description:"Your profile has been successfully updated",status:"success",duration:3e3,isClosable:!0}),g(!1)}catch(x){j({title:"Update failed",description:x.message||"Failed to update profile",status:"error",duration:5e3,isClosable:!0})}finally{N(!1)}},G=async H=>{z(!0);try{await new Promise(x=>setTimeout(x,1e3)),j({title:"Password updated",description:"Your password has been successfully changed",status:"success",duration:3e3,isClosable:!0}),Z()}catch(x){j({title:"Password update failed",description:x.message||"Failed to update password",status:"error",duration:5e3,isClosable:!0})}finally{z(!1)}},K=()=>{g(!1),J()};return s.jsxs(r,{spacing:6,align:"stretch",children:[s.jsx(p,{size:"lg",children:"Profile Settings"}),s.jsxs(as,{children:[s.jsxs(rs,{children:[s.jsx(P,{children:"Profile Information"}),s.jsx(P,{children:"Security"}),s.jsx(P,{children:"Account Activity"})]}),s.jsxs(ts,{children:[s.jsx(b,{children:s.jsxs(y,{children:[s.jsx(v,{children:s.jsxs(t,{justify:"space-between",children:[s.jsx(p,{size:"md",children:"Profile Information"}),!I&&s.jsx(f,{leftIcon:s.jsx(os,{}),size:"sm",variant:"outline",onClick:()=>g(!0),children:"Edit"})]})}),s.jsx(S,{children:s.jsxs(r,{spacing:6,children:[s.jsxs(t,{spacing:4,children:[s.jsx(ss,{size:"xl",name:`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`,src:e==null?void 0:e.avatar}),s.jsxs(r,{align:"start",spacing:1,children:[s.jsxs(i,{fontSize:"xl",fontWeight:"semibold",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx(i,{color:"gray.600",children:e==null?void 0:e.email}),s.jsx(es,{colorScheme:"green",variant:"subtle",children:"Active Account"})]})]}),s.jsx(ns,{}),I?s.jsx("form",{onSubmit:$(_),style:{width:"100%"},children:s.jsxs(r,{spacing:4,children:[s.jsxs(t,{spacing:4,width:"100%",children:[s.jsxs(o,{isInvalid:!!a.firstName,children:[s.jsx(n,{children:"First Name"}),s.jsx(l,{...m("firstName")}),s.jsx(d,{children:(T=a.firstName)==null?void 0:T.message})]}),s.jsxs(o,{isInvalid:!!a.lastName,children:[s.jsx(n,{children:"Last Name"}),s.jsx(l,{...m("lastName")}),s.jsx(d,{children:(A=a.lastName)==null?void 0:A.message})]})]}),s.jsxs(o,{isInvalid:!!a.email,children:[s.jsx(n,{children:"Email"}),s.jsx(l,{...m("email"),type:"email"}),s.jsx(d,{children:(E=a.email)==null?void 0:E.message})]}),s.jsxs(t,{spacing:4,width:"100%",children:[s.jsxs(o,{isInvalid:!!a.organization,children:[s.jsx(n,{children:"Organization (Optional)"}),s.jsx(l,{...m("organization")}),s.jsx(d,{children:(L=a.organization)==null?void 0:L.message})]}),s.jsxs(o,{isInvalid:!!a.title,children:[s.jsx(n,{children:"Title (Optional)"}),s.jsx(l,{...m("title")}),s.jsx(d,{children:(F=a.title)==null?void 0:F.message})]})]}),s.jsxs(t,{spacing:2,justify:"end",width:"100%",children:[s.jsx(f,{leftIcon:s.jsx(ls,{}),variant:"ghost",onClick:K,children:"Cancel"}),s.jsx(f,{leftIcon:s.jsx(ds,{}),colorScheme:"brand",type:"submit",isLoading:q,loadingText:"Updating...",children:"Save Changes"})]})]})}):s.jsxs(r,{spacing:4,align:"stretch",children:[s.jsxs(t,{justify:"space-between",children:[s.jsx(i,{fontWeight:"semibold",children:"Organization:"}),s.jsx(i,{children:(e==null?void 0:e.organization)||"Not specified"})]}),s.jsxs(t,{justify:"space-between",children:[s.jsx(i,{fontWeight:"semibold",children:"Title:"}),s.jsx(i,{children:(e==null?void 0:e.title)||"Not specified"})]}),s.jsxs(t,{justify:"space-between",children:[s.jsx(i,{fontWeight:"semibold",children:"Member since:"}),s.jsx(i,{children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]})]})})]})}),s.jsx(b,{children:s.jsxs(r,{spacing:6,align:"stretch",children:[s.jsxs(y,{children:[s.jsx(v,{children:s.jsx(p,{size:"md",children:"Change Password"})}),s.jsx(S,{children:s.jsx("form",{onSubmit:Q(G),children:s.jsxs(r,{spacing:4,children:[s.jsxs(o,{isInvalid:!!h.currentPassword,children:[s.jsx(n,{children:"Current Password"}),s.jsx(l,{...w("currentPassword"),type:"password",placeholder:"Enter your current password"}),s.jsx(d,{children:(U=h.currentPassword)==null?void 0:U.message})]}),s.jsxs(o,{isInvalid:!!h.newPassword,children:[s.jsx(n,{children:"New Password"}),s.jsx(l,{...w("newPassword"),type:"password",placeholder:"Enter your new password"}),s.jsx(d,{children:(k=h.newPassword)==null?void 0:k.message})]}),s.jsxs(o,{isInvalid:!!h.confirmPassword,children:[s.jsx(n,{children:"Confirm New Password"}),s.jsx(l,{...w("confirmPassword"),type:"password",placeholder:"Confirm your new password"}),s.jsx(d,{children:(W=h.confirmPassword)==null?void 0:W.message})]}),s.jsx(f,{type:"submit",colorScheme:"brand",width:"full",isLoading:Y,loadingText:"Updating password...",children:"Update Password"})]})})})]}),s.jsxs(M,{status:"info",children:[s.jsx(B,{}),s.jsxs(r,{align:"start",spacing:1,children:[s.jsx(i,{fontWeight:"semibold",children:"Security Tips"}),s.jsx(i,{fontSize:"sm",children:"Use a strong password with at least 8 characters, including uppercase and lowercase letters, numbers, and special characters."})]})]})]})}),s.jsx(b,{children:s.jsxs(y,{children:[s.jsx(v,{children:s.jsx(p,{size:"md",children:"Recent Activity"})}),s.jsx(S,{children:s.jsxs(r,{spacing:4,align:"stretch",children:[s.jsx(i,{color:"gray.600",children:"Account activity and login history would be displayed here..."}),s.jsxs(M,{status:"info",children:[s.jsx(B,{}),s.jsx(i,{fontSize:"sm",children:"Activity logging is currently being implemented. This feature will show your recent logins and account changes."})]})]})})]})})]})]})]})};export{ys as default};
//# sourceMappingURL=Profile-DEDiznXY.js.map
